<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Informa√ß√µes do Sistema - Medidor de Combust√£o</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
    <div class="config-device-container">
        <div class="header">
            <h1 class="config-device-title">‚ÑπÔ∏è Informa√ß√µes do Sistema</h1>
            <a class="btn btn-voltar" href="/admin">‚¨ÖÔ∏è Voltar</a>
        <div>
            <div class="brand">
                <div class="brand-main">
                    <img src="https://infitech.com.br/images/logo.jpg" alt="Infitech - Automa√ß√£o" class="brand-logo">
                    <h2 class="brand-company">Infitech - Automa√ß√£o</h2>
                </div>
                <div class="brand-program">Programa: <strong>MCT-01</strong></div>
            </div>
            <h1>‚ÑπÔ∏è Informa√ß√µes do Sistema</h1>
        
            <div>
            <h2>üñ•Ô∏è Informa√ß√µes do ESP32</h2>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Modelo do Chip:</span>
                    <span class="info-value">{{CHIP_MODEL}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Revis√£o do Chip:</span>
                    <span class="info-value">{{CHIP_REVISION}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">N√∫mero de Cores:</span>
                    <span class="info-value">{{CHIP_CORES}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Frequ√™ncia da CPU:</span>
                    <span class="info-value">{{CPU_FREQUENCY}} MHz</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Mem√≥ria RAM Total:</span>
                    <span class="info-value">{{TOTAL_RAM}} KB</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Mem√≥ria RAM Livre:</span>
                    <span class="info-value">{{FREE_RAM}} KB</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Flash Size:</span>
                    <span class="info-value">{{FLASH_SIZE}} MB</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Endere√ßo MAC:</span>
                    <span class="info-value">{{MAC_ADDRESS}}</span>
                </div>
            </div>
        </div>

        <!-- Card: Informa√ß√µes do Programa -->
        <div class="config-card">
            <h2>üì¶ Informa√ß√µes do Programa</h2>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Nome do Projeto:</span>
                    <span class="info-value">{{PROJECT_NAME}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Vers√£o do Programa:</span>
                    <span class="info-value">{{PROGRAM_VERSION}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Data de Compila√ß√£o:</span>
                    <span class="info-value">{{COMPILE_DATE}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Hora de Compila√ß√£o:</span>
                    <span class="info-value">{{COMPILE_TIME}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Vers√£o do ESP-IDF:</span>
                    <span class="info-value">{{IDF_VERSION}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Tempo de Funcionamento:</span>
                    <span class="info-value">{{UPTIME}}</span>
                </div>
            </div>
        </div>

        <!-- Card: Configura√ß√µes de Rede AP -->
        <div class="config-card">
            <h2>üì∂ Configura√ß√µes do Access Point</h2>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Nome da Rede (SSID):</span>
                    <span class="info-value">{{AP_SSID}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Senha:</span>
                    <span class="info-value">{{AP_PASSWORD}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Endere√ßo IP:</span>
                    <span class="info-value">{{AP_IP}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Canal:</span>
                    <span class="info-value">{{AP_CHANNEL}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">M√°ximo de Conex√µes:</span>
                    <span class="info-value">{{AP_MAX_CONNECTIONS}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Status:</span>
                    <span class="info-value">{{AP_STATUS}}</span>
                </div>
            </div>
        </div>

        <!-- Card: Configura√ß√µes de Rede WiFi -->
        <div class="config-card">
            <h2>üåê Configura√ß√µes do WiFi Cliente</h2>
            <div class="info-grid">
                <div class="info-item">
                    <span class="info-label">Rede Conectada (SSID):</span>
                    <span class="info-value">{{WIFI_SSID}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Senha Configurada:</span>
                    <span class="info-value">
                        <span id="wifi_password_display">{{WIFI_PASSWORD_DISPLAY}}</span>
                        <button type="button" id="wifi_password_toggle" class="password-toggle-btn" aria-label="Mostrar/ocultar senha">üëÅÔ∏è</button>
                        <span id="wifi_password_plain" style="display:none">{{WIFI_PASSWORD_PLAIN}}</span>
                    </span>
                </div>
                <div class="info-item">
                    <span class="info-label">Endere√ßo IP:</span>
                    <span class="info-value">{{WIFI_IP}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">M√°scara de Rede:</span>
                    <span class="info-value">{{WIFI_NETMASK}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Gateway:</span>
                    <span class="info-value">{{WIFI_GATEWAY}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Status da Conex√£o:</span>
                    <span class="info-value">{{WIFI_STATUS}}</span>
                </div>
                <div class="info-item">
                    <span class="info-label">Intensidade do Sinal:</span>
                    <span class="info-value">{{WIFI_RSSI}} dBm</span>
                </div>
            </div>
        </div>

        <!-- Bot√µes de A√ß√£o -->
        <div class="form-actions" style="text-align: center; margin-top: 30px;">
            <button class="btn-config btn-secondary" type="button" onclick="location.reload()">üîÑ Atualizar Informa√ß√µes</button>
            <a class="btn-config btn-primary" href="/admin">‚Ü©Ô∏è Voltar para Admin</a>
        </div>
    </div>
</body>
<script>
    (function() {
        const toggleBtn = document.getElementById('wifi_password_toggle');
        const display = document.getElementById('wifi_password_display');
    // senha plain est√° presente em um elemento oculto no DOM
    const plainEl = document.getElementById('wifi_password_plain');
    const plain = plainEl ? plainEl.textContent.trim() : '';
        let showing = false;

        if (!toggleBtn || !display) return;

        toggleBtn.addEventListener('click', function() {
            if (!showing) {
                // mostrar senha real, se dispon√≠vel
                if (plain && plain.length > 0) {
                    display.textContent = plain;
                } else {
                    display.textContent = '(sem senha)';
                }
                toggleBtn.textContent = 'üôà';
                showing = true;
            } else {
                // voltar a m√°scara
                display.textContent = '{{WIFI_PASSWORD_DISPLAY}}';
                toggleBtn.textContent = 'üëÅÔ∏è';
                showing = false;
            }
        });
    })();
</script>
</html>